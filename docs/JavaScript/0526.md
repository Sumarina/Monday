# 实现图片的预加载

**在网站开发中，如何实现图片的预加载？**

1. 使用 XMLRequest 请求图片资源，提供了 onprogress 函数能够很精细的获取到资源的信息。但可能会存在跨域问题。

1. 创建一个 image 的实例，给 src 的属性设置 url 。

1. 添加一个 image 节点,给 src 属性设置 url ，设置`display:none`。

直接加载图片，但不在页面渲染。

```html
<div class="demo">
  <img class="hidden" src="http://lbimg.tvmao.com/stillcut/KpwpLR8sL7CkVnSoKDwnL7=.jpg" alt="image preload" />
</div>
```

创建 image 的实例

```js
const image = new Image();
image.src = 'https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=3932093531,259615635&fm=26&gp=0.jpg';
```

使用`XMLHttpRequest`请求图片资源

```js
const xmlHttpRequest = new XMLHttpRequest();
xmlHttpRequest.open('GET', 'https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=3932093531,259615635&fm=26&gp=0.jpg');
xmlHttpRequest.onload = () => {};
xmlHttpRequest.send();
```
